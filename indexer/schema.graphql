type Pair @entity {
  id: ID! # pair address
  token0: String! @index
  token1: String! @index
  token0Symbol: String
  token1Symbol: String
  reserve0: BigInt!
  reserve1: BigInt!
  totalSupply: BigInt!
  createdAt: DateTime! @index
  transactions: [Transaction!] @derivedFrom(field: "pair")
}

type Transaction @entity {
  id: ID!
  type: TransactionType! @index
  pair: Pair!
  user: String! @index
  blockNumber: BigInt! @index
  timestamp: DateTime! @index

  amountA: BigInt
  amountB: BigInt
  liquidity: BigInt
  amountIn: BigInt
  amountOut: BigInt
  tokenIn: String
  tokenOut: String
}

enum TransactionType {
  ADD_LIQUIDITY
  REMOVE_LIQUIDITY
  SWAP
}
